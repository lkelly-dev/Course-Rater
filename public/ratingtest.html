<!DOCTYPE>
<html ng-app="CourseRater">

<head>
    <title>UofT Course Rater</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/ngProgress.css">
    <link rel="stylesheet" href="css/toaster.css">
    <link rel="stylesheet" href="css/mycss.css">
    <style>
        [ng\:cloak],
        [ng-cloak],
        [data-ng-cloak],
        [x-ng-cloak],
        .ng-cloak,
        .x-ng-cloak {
            display: none !important;
        }
    </style>
</head>
<h1 class="header-title">UofT Course Rater</h1>
<body ng-cloak>
    <div class="container" ng-controller="CoursesCtrl">
        <form name="Codenx" novalidate>
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Instructors</th>
                        <th>Rating</th>
                        <th>Number of Ratings</th>
                        <th>Action</th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input class="form-control" ng-model="rating.rating_value" required="" placeholder="Rating Value"></td>
                        <td><input class="form-control" ng-model="rating.userID" placeholder="User ID"></td>
                        <td><input class="form-control" ng-model="rating.courseName" placeholder="Course Name"></td>
                        <td></td>
                        <td>
                            <button class="btn btn-primary" ng-click="add_rating(rating);" type="submit" ng-disabled="!Codenx.$valid">Add Rating</button>
                            <div class="btn-group">
                                <button class="btn btn-info" ng-click="update(course); course.rating = rating_update(course.new_rating, course.rating, course.numberOfRatings); course.numberOfRatings = (course.numberOfRatings + 1);" ng-if="course._id" type="submit">Update</button>
                                <button class="btn" ng-click="deselect()" ng-if="course._id">Clear</button>
                            </div>
                        </td>
                    </tr>
                    <tr ng-repeat="course in courses">
                        <td>{{course.name}}</td>
                        <td style="width: 300px;">{{course.instructors}}</td>
                        <td>{{course.rating}}</td>
                        <td>{{course.numberOfRatings}}</td>
                        <td>
                            <div class="btn-group">
                                <button class="btn btn-danger" ng-click="remove(course)">Remove</button>
                                <button class="btn btn-warning" ng-click="edit(course._id)">Edit</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-primary" onclick="populate_server();" type="submit">Populate</button>

    </div>

    <div data-loading></div>
    <toaster-container toaster-options="{'time-out': 3000, 'close-button':true, 'animation-class': 'toast-top-center'}"></toaster-container>


    <script src="js/angular.min.js"></script>
    <script src="js/angular-resource.min.js"></script>
    <script src="js/angular-animate.min.js"></script>
    <script src="js/ngProgress.min.js"></script>
    <script src="js/toaster.js"></script>
    <script src="app/app.js"></script>
    <script src="app/courses_client.js"></script>
</body>

</html>
